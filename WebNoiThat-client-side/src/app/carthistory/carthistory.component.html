<app-header></app-header>

<div class="card" style="padding: 100px 100px;">
    <div class="row">

        <div class="col-sm-12 col-md-6">
            <mat-form-field>
                <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Tìm kiếm">
            </mat-form-field>

        </div>

    </div>

    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>



            <ng-container matColumnDef="createdDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Ngày tạo </th>
                <td mat-cell *matCellDef="let element"> {{element.createdDate}} </td>
            </ng-container>


            <ng-container matColumnDef="total">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Thành tiền </th>
                <td mat-cell *matCellDef="let element"> {{element.total | number:'1.0-2'}} </td>
            </ng-container>

            <ng-container matColumnDef="choose">
                <th style="text-align: center;" mat-header-cell *matHeaderCellDef > Lựa chọn </th>
                <td mat-cell *matCellDef="let element">
                    <button (click)="detail(element.id)" href="#" data-toggle="modal" data-target="#myModal" 
                    data-dismiss="modal" style="height: 28px; width: 27px;padding: initial; margin-bottom: 17px;" class="btn btn-success" ><i class="fa fa-info"></i></button>                                        
                </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
    </div>

</div>


<div class="modal fade" id="myModal">

        <div class="modal-dialog modal-dialog-centered ">
            <div class="modal-content">


                <div class="modal-header">
                    <h4 class="modal-title">Chi tiết</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>


                <div class="modal-body">

                    <div class="row" style="padding: inherit;">
                        <table class="table table-bordered">
                            <tr>
                                <th>Tên sản phẩm</th>
                                <th>Giá</th>
                                <th>Số lượng</th>
                                <th>Thành tiền</th>
                                
                            </tr>
            
                            <tbody>
                                <tr *ngFor="let invoiceprodetail of invoiceprodetails">
            
                                    <td>{{invoiceprodetail.product.name}}</td>
                                    <td>{{invoiceprodetail.price | number:'1.0-2'}}</td>
                                    <td>{{invoiceprodetail.quantity}}</td>
                                    <td>{{invoiceprodetail.totalprice | number:'1.0-2'}}</td>
                                    
                                </tr>
            
                            </tbody>
                        </table>
                    </div>
                
                </div>

                <div class="modal-footer">
                </div>
            </div>

        </div>

</div>

<app-footer></app-footer>